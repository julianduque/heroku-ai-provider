<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Heroku AI SDK Provider - v0.6.0</title><meta name="description" content="Documentation for Heroku AI SDK Provider"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="https://github.com/julianduque/heroku-ai-provider" class="title">Heroku AI SDK Provider - v0.6.0</a><div id="tsd-toolbar-links"><a href="https://github.com/julianduque/heroku-ai-provider">GitHub</a><a href="https://www.npmjs.com/package/heroku-ai-provider">NPM</a><a href="https://devcenter.heroku.com/categories/ai">Heroku AI</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Heroku AI SDK Provider - v0.6.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="heroku-ai-sdk-provider" class="tsd-anchor-link">Heroku AI SDK Provider<a href="#heroku-ai-sdk-provider" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A TypeScript provider for the <a href="https://sdk.vercel.ai/">Vercel AI SDK</a> that enables you to use Heroku's AI inference capabilities in your applications. This provider supports both chat completions and embeddings through Heroku's AI infrastructure.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>ü§ñ <strong>Chat Completions</strong>: Support for Claude 4.5 Sonnet, Claude 4 Sonnet, Claude 3.7 Sonnet, Claude 3.5 Haiku, gpt-oss-120b, Nova Lite, Nova Pro and other Heroku-hosted models</li>
<li>üß† <strong>Embeddings</strong>: Generate vector embeddings using Cohere's multilingual embedding model</li>
<li>üñºÔ∏è <strong>Image Generation</strong>: Create images with Stability AI‚Äôs Stable Image Ultra diffusion model</li>
<li>üîß <strong>Tool Support</strong>: Function calling capabilities for building AI agents and assistants</li>
<li>üì° <strong>Streaming</strong>: Real-time streaming responses for chat completions</li>
<li>üîê <strong>TypeScript</strong>: Full TypeScript support with comprehensive type definitions</li>
<li>‚ö° <strong>Dual Module Support</strong>: Compatible with both ESM and CommonJS projects</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">heroku-ai-provider</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">heroku-ai-provider</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">heroku-ai-provider</span>
</code><button type="button">Copy</button></pre>

<h2 id="prerequisites" class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Before using this provider, you'll need:</p>
<ol>
<li>A Heroku account with access to AI services</li>
<li>Heroku AI API keys for inference and/or embeddings</li>
<li>The Vercel AI SDK installed in your project</li>
</ol>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ai</span>
</code><button type="button">Copy</button></pre>

<h2 id="basic-setup" class="tsd-anchor-link">Basic Setup<a href="#basic-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="environment-variables" class="tsd-anchor-link">Environment Variables<a href="#environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Set your Heroku AI API keys as environment variables:</p>
<pre><code class="bash"><span class="hl-3"># For chat completions</span><br/><span class="hl-4">INFERENCE_KEY</span><span class="hl-1">=</span><span class="hl-2">your_inference_api_key</span><br/><br/><span class="hl-3"># For embeddings</span><br/><span class="hl-4">EMBEDDING_KEY</span><span class="hl-1">=</span><span class="hl-2">your_embedding_api_key</span><br/><br/><span class="hl-3"># For image generations</span><br/><span class="hl-4">DIFFUSION_KEY</span><span class="hl-1">=</span><span class="hl-2">your_diffusion_api_key</span><br/><br/><span class="hl-3"># Optional: Custom API endpoints</span><br/><span class="hl-4">INFERENCE_URL</span><span class="hl-1">=</span><span class="hl-2">https://us.inference.heroku.com</span><br/><span class="hl-4">EMBEDDING_URL</span><span class="hl-1">=</span><span class="hl-2">https://us.inference.heroku.com</span><br/><span class="hl-4">DIFFUSION_URL</span><span class="hl-1">=</span><span class="hl-2">https://us.inference.heroku.com</span>
</code><button type="button">Copy</button></pre>

<h3 id="basic-configuration" class="tsd-anchor-link">Basic Configuration<a href="#basic-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">model</span><span class="hl-1"> = </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="custom-configuration" class="tsd-anchor-link">Custom Configuration<a href="#custom-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">createHerokuAI</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">client</span><span class="hl-1"> = </span><span class="hl-0">createHerokuAI</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">chatApiKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;your_inference_api_key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">embeddingsApiKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;your_embedding_api_key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">chatBaseUrl:</span><span class="hl-1"> </span><span class="hl-2">&quot;https://us.inference.heroku.com/v1/chat/completions&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">embeddingsBaseUrl:</span><span class="hl-1"> </span><span class="hl-2">&quot;https://us.inference.heroku.com/v1/embeddings&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">imageApiKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;your_diffusion_api_key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">imageBaseUrl:</span><span class="hl-1"> </span><span class="hl-2">&quot;https://us.inference.heroku.com/v1/images/generations&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="browser-usage" class="tsd-anchor-link">Browser Usage<a href="#browser-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This library is compatible with browser environments. However, since <code>process.env</code> is not available in browsers, you <strong>must</strong> provide API keys via the options parameter. <strong>At least one API key is required</strong> - you only need to provide the keys for the features you're using:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">createHerokuAI</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Example: Only using chat completions</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">heroku</span><span class="hl-1"> = </span><span class="hl-0">createHerokuAI</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">chatApiKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;your_inference_api_key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Or if you need multiple features, provide the relevant keys</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">heroku</span><span class="hl-1"> = </span><span class="hl-0">createHerokuAI</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">chatApiKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;your_inference_api_key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">embeddingsApiKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;your_embedding_api_key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">// imageApiKey not needed if you&#39;re not using image generation</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Now you can use it normally</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">text</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;Hello, world!&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Security Note</strong>: Never hardcode API keys in client-side code. In browser applications, consider:</p>
<ul>
<li>Using environment variables at build time (via bundlers like Vite, Webpack, etc.)</li>
<li>Storing keys securely on your backend and proxying requests</li>
<li>Using server-side API routes to handle authentication</li>
</ul>
<h2 id="usage-examples" class="tsd-anchor-link">Usage Examples<a href="#usage-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="chat-completions" class="tsd-anchor-link">Chat Completions<a href="#chat-completions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="basic-chat" class="tsd-anchor-link">Basic Chat<a href="#basic-chat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">generateText</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">text</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;What is the capital of France?&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">text</span><span class="hl-1">); </span><span class="hl-3">// &quot;The capital of France is Paris.&quot;</span>
</code><button type="button">Copy</button></pre>

<h4 id="streaming-chat" class="tsd-anchor-link">Streaming Chat<a href="#streaming-chat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">streamText</span><span class="hl-1">, </span><span class="hl-4">stepCountIs</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">textStream</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">streamText</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-3-haiku&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;Write a short story about a robot learning to paint.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">for</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">delta</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-4">textStream</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-4">delta</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="chat-with-system-message" class="tsd-anchor-link">Chat with System Message<a href="#chat-with-system-message" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">generateText</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">text</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">system:</span><span class="hl-1"> </span><span class="hl-2">&quot;You are a helpful assistant that explains complex topics simply.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;Explain quantum computing&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="toolfunction-calling" class="tsd-anchor-link">Tool/Function Calling<a href="#toolfunction-calling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">generateText</span><span class="hl-1">, </span><span class="hl-4">tool</span><span class="hl-1">, </span><span class="hl-4">stepCountIs</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;zod&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">text</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;What is the weather like in New York?&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">tools:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">getWeather:</span><span class="hl-1"> </span><span class="hl-0">tool</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Get the current weather for a location&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">parameters:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">location:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&quot;The city and state&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">      </span><span class="hl-0">execute</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> ({ </span><span class="hl-4">location</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">// Simulate weather API call</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">location</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">temperature:</span><span class="hl-1"> </span><span class="hl-8">72</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">condition:</span><span class="hl-1"> </span><span class="hl-2">&quot;sunny&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">stopWhen:</span><span class="hl-1"> </span><span class="hl-0">stepCountIs</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="advanced-tool-usage-with-multiple-steps" class="tsd-anchor-link">Advanced Tool Usage with Multiple Steps<a href="#advanced-tool-usage-with-multiple-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">generateText</span><span class="hl-1">, </span><span class="hl-4">tool</span><span class="hl-1">, </span><span class="hl-4">stepCountIs</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;zod&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">text</span><span class="hl-1">, </span><span class="hl-7">steps</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;Check the weather in New York and then suggest appropriate clothing.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">tools:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">getWeather:</span><span class="hl-1"> </span><span class="hl-0">tool</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Get the current weather for a location&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">parameters:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">location:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&quot;The city and state&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">      </span><span class="hl-0">execute</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> ({ </span><span class="hl-4">location</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">location</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">temperature:</span><span class="hl-1"> </span><span class="hl-8">45</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">condition:</span><span class="hl-1"> </span><span class="hl-2">&quot;rainy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">humidity:</span><span class="hl-1"> </span><span class="hl-8">80</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-4">suggestClothing:</span><span class="hl-1"> </span><span class="hl-0">tool</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Suggest appropriate clothing based on weather conditions&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">inputSchema:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">temperature:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">().</span><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&quot;Temperature in Fahrenheit&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">condition:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&quot;Weather condition&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">humidity:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">().</span><span class="hl-0">optional</span><span class="hl-1">().</span><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&quot;Humidity percentage&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">      </span><span class="hl-0">execute</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> ({ </span><span class="hl-4">temperature</span><span class="hl-1">, </span><span class="hl-4">condition</span><span class="hl-1">, </span><span class="hl-4">humidity</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">suggestions:</span><span class="hl-1"> [</span><br/><span class="hl-1">            </span><span class="hl-2">&quot;Waterproof jacket&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&quot;Warm layers&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&quot;Waterproof shoes&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&quot;Umbrella&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          ],</span><br/><span class="hl-1">          </span><span class="hl-4">reasoning:</span><span class="hl-1"> </span><span class="hl-2">`Given </span><span class="hl-6">${</span><span class="hl-4">temperature</span><span class="hl-6">}</span><span class="hl-2">¬∞F and </span><span class="hl-6">${</span><span class="hl-4">condition</span><span class="hl-6">}</span><span class="hl-2"> weather</span><span class="hl-6">${</span><span class="hl-4">humidity</span><span class="hl-9"> </span><span class="hl-1">?</span><span class="hl-9"> </span><span class="hl-2">` with </span><span class="hl-6">${</span><span class="hl-4">humidity</span><span class="hl-6">}</span><span class="hl-2">% humidity`</span><span class="hl-9"> </span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-2">&quot;&quot;</span><span class="hl-6">}</span><span class="hl-2">, you&#39;ll want to stay warm and dry.`</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">stopWhen:</span><span class="hl-1"> </span><span class="hl-0">stepCountIs</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Final response:&quot;</span><span class="hl-1">, </span><span class="hl-4">text</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Tool execution steps:&quot;</span><span class="hl-1">, </span><span class="hl-4">steps</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="embeddings" class="tsd-anchor-link">Embeddings<a href="#embeddings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="basic-embeddings" class="tsd-anchor-link">Basic Embeddings<a href="#basic-embeddings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">embed</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">embedding</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">embed</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">embedding</span><span class="hl-1">(</span><span class="hl-2">&quot;cohere-embed-multilingual&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-2">&quot;Hello, world!&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">embedding</span><span class="hl-1">); </span><span class="hl-3">// [0.1, 0.2, -0.3, ...]</span>
</code><button type="button">Copy</button></pre>

<h4 id="multiple-embeddings" class="tsd-anchor-link">Multiple Embeddings<a href="#multiple-embeddings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">embedMany</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">embeddings</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">embedMany</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">embedding</span><span class="hl-1">(</span><span class="hl-2">&quot;cohere-embed-multilingual&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">values:</span><span class="hl-1"> [</span><span class="hl-2">&quot;First document&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Second document&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Third document&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">embeddings</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">); </span><span class="hl-3">// 3</span>
</code><button type="button">Copy</button></pre>

<h4 id="using-the-convenience-function" class="tsd-anchor-link">Using the Convenience Function<a href="#using-the-convenience-function" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">createEmbedFunction</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create a reusable embed function</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">embedText</span><span class="hl-1"> = </span><span class="hl-0">createEmbedFunction</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">apiKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">EMBEDDING_KEY</span><span class="hl-1">!,</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;cohere-embed-multilingual&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">embedding</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">embedText</span><span class="hl-1">(</span><span class="hl-2">&quot;Hello, world!&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">embedding</span><span class="hl-1">); </span><span class="hl-3">// [0.1, 0.2, -0.3, ...]</span>
</code><button type="button">Copy</button></pre>

<h3 id="image-generation" class="tsd-anchor-link">Image Generation<a href="#image-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">experimental_generateImage</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-4">generateImage</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateImage</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">image</span><span class="hl-1">(</span><span class="hl-2">&quot;stable-image-ultra&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;A watercolor illustration of a lighthouse at sunrise&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">size:</span><span class="hl-1"> </span><span class="hl-2">&quot;1024x1024&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">imageBytes</span><span class="hl-1"> = </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-4">image</span><span class="hl-1">.</span><span class="hl-4">uint8Array</span><span class="hl-1">;</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Generated image bytes length:&quot;</span><span class="hl-1">, </span><span class="hl-4">imageBytes</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="configuration-options" class="tsd-anchor-link">Configuration Options<a href="#configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="herokuprovidersettings" class="tsd-anchor-link">HerokuProviderSettings<a href="#herokuprovidersettings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-10">HerokuProviderSettings</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// API keys (falls back to environment variables)</span><br/><span class="hl-1">  </span><span class="hl-4">chatApiKey</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-3">// INFERENCE_KEY</span><br/><span class="hl-1">  </span><span class="hl-4">embeddingsApiKey</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-3">// EMBEDDING_KEY</span><br/><span class="hl-1">  </span><span class="hl-4">imageApiKey</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-3">// DIFFUSION_KEY</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Base URLs (falls back to environment variables or defaults)</span><br/><span class="hl-1">  </span><span class="hl-4">chatBaseUrl</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-3">// INFERENCE_URL</span><br/><span class="hl-1">  </span><span class="hl-4">embeddingsBaseUrl</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-3">// EMBEDDING_URL</span><br/><span class="hl-1">  </span><span class="hl-4">imageBaseUrl</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-3">// DIFFUSION_URL</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="supported-models" class="tsd-anchor-link">Supported Models<a href="#supported-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="chat-models" class="tsd-anchor-link">Chat Models<a href="#chat-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><code>claude-4-sonnet</code> - Claude 4 Sonnet by Anthropic</li>
<li><code>claude-4-5-sonnet</code> - Claude 4.5 Sonnet by Anthropic</li>
<li><code>claude-3-haiku</code> - Claude 3 Haiku by Anthropic</li>
<li><code>claude-3-7-sonnet</code> - Claude 3.7 Sonnet by Anthropic</li>
<li><code>claude-3-5-haiku</code> - Claude 3.5 Haiku by Anthropic</li>
<li><code>claude-3-5-sonnet-latest</code> - Claude 3.5 Sonnet by Anthropic</li>
<li><code>gpt-oss-120b</code> - gpt-oss-120b by OpenAI</li>
<li><code>nova-lite</code> - Nova Lite by Amazon</li>
<li><code>nova-pro</code> - Nova Pro by Amazon</li>
</ul>
<h4 id="embedding-models" class="tsd-anchor-link">Embedding Models<a href="#embedding-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><code>cohere-embed-multilingual</code> - Multilingual embedding model by Cohere</li>
</ul>
<h4 id="image-models" class="tsd-anchor-link">Image Models<a href="#image-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><code>stable-image-ultra</code> - Stable Image Ultra diffusion model by Stability AI</li>
</ul>
<h2 id="framework-integration" class="tsd-anchor-link">Framework Integration<a href="#framework-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="nextjs-app-router" class="tsd-anchor-link">Next.js App Router<a href="#nextjs-app-router" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// app/api/chat/route.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">streamText</span><span class="hl-1">, </span><span class="hl-4">stepCountIs</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">POST</span><span class="hl-1">(</span><span class="hl-4">req</span><span class="hl-1">: </span><span class="hl-10">Request</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">messages</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">req</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">streamText</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">messages</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">stopWhen:</span><span class="hl-1"> </span><span class="hl-0">stepCountIs</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">), </span><span class="hl-3">// Enable multi-step tool conversations</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-0">toDataStreamResponse</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="nextjs-with-tool-support" class="tsd-anchor-link">Next.js with Tool Support<a href="#nextjs-with-tool-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// app/api/chat/route.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">streamText</span><span class="hl-1">, </span><span class="hl-4">tool</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;zod&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">POST</span><span class="hl-1">(</span><span class="hl-4">req</span><span class="hl-1">: </span><span class="hl-10">Request</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">messages</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">req</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">streamText</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">messages</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">tools:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">getTime:</span><span class="hl-1"> </span><span class="hl-0">tool</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Get the current time&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">inputSchema:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-4">timezone:</span><span class="hl-1"> </span><span class="hl-4">z</span><br/><span class="hl-1">            .</span><span class="hl-0">string</span><span class="hl-1">()</span><br/><span class="hl-1">            .</span><span class="hl-0">optional</span><span class="hl-1">()</span><br/><span class="hl-1">            .</span><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&quot;Timezone (e.g., &#39;America/New_York&#39;)&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">        </span><span class="hl-0">execute</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> ({ </span><span class="hl-4">timezone</span><span class="hl-1"> = </span><span class="hl-2">&quot;UTC&quot;</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">time:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">().</span><span class="hl-0">toLocaleString</span><span class="hl-1">(</span><span class="hl-2">&quot;en-US&quot;</span><span class="hl-1">, { </span><span class="hl-4">timeZone:</span><span class="hl-1"> </span><span class="hl-4">timezone</span><span class="hl-1"> }),</span><br/><span class="hl-1">            </span><span class="hl-4">timezone</span><span class="hl-1">,</span><br/><span class="hl-1">          };</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">stopWhen:</span><span class="hl-1"> </span><span class="hl-0">stepCountIs</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">),</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-0">toDataStreamResponse</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="expressjs" class="tsd-anchor-link">Express.js<a href="#expressjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-4">express</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;express&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">generateText</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">heroku</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">app</span><span class="hl-1"> = </span><span class="hl-0">express</span><span class="hl-1">();</span><br/><br/><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-0">post</span><span class="hl-1">(</span><span class="hl-2">&quot;/chat&quot;</span><span class="hl-1">, </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-4">req</span><span class="hl-1">, </span><span class="hl-4">res</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">prompt</span><span class="hl-1"> } = </span><span class="hl-4">req</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">text</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-3-haiku&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">prompt</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">res</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">({ </span><span class="hl-4">response:</span><span class="hl-1"> </span><span class="hl-4">text</span><span class="hl-1"> });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The provider includes comprehensive error handling with user-friendly error messages:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">createHerokuAI</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">isConfigurationError</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">isTemporaryServiceError</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;heroku-ai-provider&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateText</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-4">heroku</span><span class="hl-1">.</span><span class="hl-0">chat</span><span class="hl-1">(</span><span class="hl-2">&quot;claude-4-sonnet&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">prompt:</span><span class="hl-1"> </span><span class="hl-2">&quot;Hello!&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">} </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">isConfigurationError</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&quot;Configuration error:&quot;</span><span class="hl-1">, </span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">// Handle API key or URL configuration issues</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">isTemporaryServiceError</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&quot;Service error:&quot;</span><span class="hl-1">, </span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">// Handle temporary service issues (retry logic)</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&quot;Unexpected error:&quot;</span><span class="hl-1">, </span><span class="hl-4">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="common-issues" class="tsd-anchor-link">Common Issues<a href="#common-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="authentication-errors" class="tsd-anchor-link">Authentication Errors<a href="#authentication-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Issue</strong>: &quot;Chat API key is required&quot; or &quot;Embeddings API key is required&quot;</li>
<li><strong>Solution</strong>: Ensure your API keys are set in environment variables or passed directly to <code>createHerokuAI()</code></li>
</ul>
<h4 id="model-not-found" class="tsd-anchor-link">Model Not Found<a href="#model-not-found" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Issue</strong>: &quot;Unsupported chat model&quot; or &quot;Unsupported embedding model&quot;</li>
<li><strong>Solution</strong>: Check that you're using a supported model from the list above</li>
</ul>
<h4 id="network-errors" class="tsd-anchor-link">Network Errors<a href="#network-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Issue</strong>: Connection timeouts or network failures</li>
<li><strong>Solution</strong>: Verify your internet connection and that Heroku's AI services are accessible</li>
</ul>
<h4 id="url-configuration" class="tsd-anchor-link">URL Configuration<a href="#url-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Issue</strong>: &quot;Invalid URL format&quot; errors</li>
<li><strong>Solution</strong>: Ensure custom URLs are valid and use HTTP/HTTPS protocol</li>
</ul>
<h4 id="tool-execution-issues" class="tsd-anchor-link">Tool Execution Issues<a href="#tool-execution-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Issue</strong>: Tools are called but AI doesn't provide final response</li>
<li><strong>Solution</strong>: Ensure you configure <code>stopWhen</code> (for example, <code>stopWhen: stepCountIs(5)</code>) so the model can complete multi-step tool conversations</li>
</ul>
<h4 id="schema-validation-errors" class="tsd-anchor-link">Schema Validation Errors<a href="#schema-validation-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Issue</strong>: &quot;Unrecognized request argument&quot; errors when using tools</li>
<li><strong>Solution</strong>: This provider automatically filters out problematic schema properties (like <code>$schema</code>) that some validation libraries add</li>
</ul>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We welcome contributions! Please follow these steps:</p>
<ol>
<li>Fork the repository</li>
<li>Create a feature branch: <code>git checkout -b feature/amazing-feature</code></li>
<li>Make your changes and add tests</li>
<li>Ensure tests pass: <code>npm test</code></li>
<li>Lint your code: <code>npm run lint</code></li>
<li>Commit your changes: <code>git commit -m 'Add amazing feature'</code></li>
<li>Push to the branch: <code>git push origin feature/amazing-feature</code></li>
<li>Open a Pull Request</li>
</ol>
<h3 id="development-setup" class="tsd-anchor-link">Development Setup<a href="#development-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Clone the repository</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/julianduque/heroku-ai-provider.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">heroku-ai-provider</span><br/><br/><span class="hl-3"># Install dependencies</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-3"># Run tests</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Build the project</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-3"># Lint code</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">lint</span>
</code><button type="button">Copy</button></pre>

<h3 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The project uses Jest for testing. Run tests with:</p>
<pre><code class="bash"><span class="hl-3"># Run all tests</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Run tests in watch mode</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1"> </span><span class="hl-6">--watch</span><br/><br/><span class="hl-3"># Run tests with coverage</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1"> </span><span class="hl-6">--coverage</span>
</code><button type="button">Copy</button></pre>

<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This project is licensed under the Apache 2.0 License - see the <a href="media/LICENSE">LICENSE</a> file for details.</p>
<h2 id="resources" class="tsd-anchor-link">Resources<a href="#resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üìñ Documentation: <a href="https://devcenter.heroku.com/categories/ai">Heroku AI Documentation</a></li>
<li>üêõ Issues: <a href="https://github.com/julianduque/heroku-ai-provider/issues">GitHub Issues</a></li>
</ul>
<h2 id="related-projects" class="tsd-anchor-link">Related Projects<a href="#related-projects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://sdk.vercel.ai/">Vercel AI SDK</a> - The AI SDK this provider integrates with</li>
<li><a href="https://devcenter.heroku.com/articles/heroku-cli">Heroku CLI</a> - Command line interface for Heroku</li>
<li><a href="https://devcenter.heroku.com/categories/ai">Heroku AI Services</a> - Official Heroku AI documentation</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#heroku-ai-sdk-provider"><span>Heroku <wbr/>AI <wbr/>SDK <wbr/>Provider</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#prerequisites"><span>Prerequisites</span></a></li><li><a href="#basic-setup"><span>Basic <wbr/>Setup</span></a></li><li><ul><li><a href="#environment-variables"><span>Environment <wbr/>Variables</span></a></li><li><a href="#basic-configuration"><span>Basic <wbr/>Configuration</span></a></li><li><ul><li><a href="#custom-configuration"><span>Custom <wbr/>Configuration</span></a></li></ul></li><li><a href="#browser-usage"><span>Browser <wbr/>Usage</span></a></li></ul></li><li><a href="#usage-examples"><span>Usage <wbr/>Examples</span></a></li><li><ul><li><a href="#chat-completions"><span>Chat <wbr/>Completions</span></a></li><li><ul><li><a href="#basic-chat"><span>Basic <wbr/>Chat</span></a></li><li><a href="#streaming-chat"><span>Streaming <wbr/>Chat</span></a></li><li><a href="#chat-with-system-message"><span>Chat with <wbr/>System <wbr/>Message</span></a></li></ul></li><li><a href="#toolfunction-calling"><span>Tool/<wbr/>Function <wbr/>Calling</span></a></li><li><ul><li><a href="#advanced-tool-usage-with-multiple-steps"><span>Advanced <wbr/>Tool <wbr/>Usage with <wbr/>Multiple <wbr/>Steps</span></a></li></ul></li><li><a href="#embeddings"><span>Embeddings</span></a></li><li><ul><li><a href="#basic-embeddings"><span>Basic <wbr/>Embeddings</span></a></li><li><a href="#multiple-embeddings"><span>Multiple <wbr/>Embeddings</span></a></li><li><a href="#using-the-convenience-function"><span>Using the <wbr/>Convenience <wbr/>Function</span></a></li></ul></li><li><a href="#image-generation"><span>Image <wbr/>Generation</span></a></li></ul></li><li><a href="#configuration-options"><span>Configuration <wbr/>Options</span></a></li><li><ul><li><a href="#herokuprovidersettings"><span>Heroku<wbr/>Provider<wbr/>Settings</span></a></li><li><a href="#supported-models"><span>Supported <wbr/>Models</span></a></li><li><ul><li><a href="#chat-models"><span>Chat <wbr/>Models</span></a></li><li><a href="#embedding-models"><span>Embedding <wbr/>Models</span></a></li><li><a href="#image-models"><span>Image <wbr/>Models</span></a></li></ul></li></ul></li><li><a href="#framework-integration"><span>Framework <wbr/>Integration</span></a></li><li><ul><li><a href="#nextjs-app-router"><span>Next.js <wbr/>App <wbr/>Router</span></a></li><li><a href="#nextjs-with-tool-support"><span>Next.js with <wbr/>Tool <wbr/>Support</span></a></li><li><a href="#expressjs"><span>Express.js</span></a></li></ul></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li><li><ul><li><a href="#common-issues"><span>Common <wbr/>Issues</span></a></li><li><ul><li><a href="#authentication-errors"><span>Authentication <wbr/>Errors</span></a></li><li><a href="#model-not-found"><span>Model <wbr/>Not <wbr/>Found</span></a></li><li><a href="#network-errors"><span>Network <wbr/>Errors</span></a></li><li><a href="#url-configuration"><span>URL <wbr/>Configuration</span></a></li><li><a href="#tool-execution-issues"><span>Tool <wbr/>Execution <wbr/>Issues</span></a></li><li><a href="#schema-validation-errors"><span>Schema <wbr/>Validation <wbr/>Errors</span></a></li></ul></li></ul></li><li><a href="#contributing"><span>Contributing</span></a></li><li><ul><li><a href="#development-setup"><span>Development <wbr/>Setup</span></a></li><li><a href="#testing"><span>Testing</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li><li><a href="#resources"><span>Resources</span></a></li><li><a href="#related-projects"><span>Related <wbr/>Projects</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/julianduque/heroku-ai-provider">GitHub</a><a href="https://github.com/julianduque/heroku-ai-provider/issues">Report Issue</a><a href="https://github.com/julianduque/heroku-ai-provider" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/heroku-ai-provider" class="tsd-nav-link">NPM</a><a href="https://devcenter.heroku.com/categories/ai" class="tsd-nav-link">Heroku AI</a></nav><nav class="tsd-navigation"><a href="modules.html">Heroku AI SDK Provider - v0.6.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
